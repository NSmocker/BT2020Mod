local table = 
{
     
    
}


function table:Start()
    print("Hello From Water Volume")  
    local waterSphere = UE.GameObject.Find("WaterSphere")
    if waterSphere ~= nil then
        self.waterRender = waterSphere:GetComponent("Renderer")
    end
    
    print("Try to find main player rb")
    self.player =  CL.InteractCharacter.PlayerInstance.capsuleRB
    
    if  self.player == nil then
        print("Main player not finded")
        return
    end

    if  self.player  ~= nil then
        print("Main player rb finded")
       -- self.player :AddForce(UE.Vector3.up*10000000)
    end
    print("water filter finded")
end


function table:OnTriggerEnter(collider)

     
  
  
    if(collider.gameObject.name == "HeadSphere") then 
   
   
        if self.waterRender ~= nil then 
            self.waterRender.enabled = true 
            self.player.drag = 10
            self.player.angularDrag = 10
        end--water render
   
   
        if self.waterRender == nil then 
            print("No waterRender in OnTriggerEnter") 
        end--water render
   
       -- local rb = collider.gameObject:GetComponent("Rigidbody")
       -- rb:AddForce(UE.Vector3.up*1000)

        self.WaterAudioSource:PlayOneShot(self.WaterAudioClip);
       
         


    end--collider headsphere
    
    
   
   


end--trigger end










   
       
function table:OnTriggerExit(collider)

    
    if(collider.gameObject.name == "HeadSphere") then 
        self.WaterAudioSource:PlayOneShot(self.WaterAudioClip);
        if self.waterRender ~= nil then 
            self.waterRender.enabled = false 
            self.player.drag = 0
            self.player.angularDrag = 0
        end--water render
    end--collider headsphere
    
end--trigger end
    
    
function table:OnTriggerStay(collider)

    if(collider.gameObject.name == "HeadSphere") then 
        local rightHand = self.player.hands[0]
        local aButton = rightHand.inputs[CL.VRTKInputButton.ButtonType.ButtonOne]
        
        if aButton.isPressed then
            self.player :AddForce(UE.Vector3.up*10000,UE.ForceMode.Force)
        end
        

    end--collider headsphere

    
    
end



    
    




return Class(nil, nil, table)